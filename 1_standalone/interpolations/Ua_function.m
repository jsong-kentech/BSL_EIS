function [ U_avg ] = Ua_function( x )
% This function interpolates the equilibrium potential curve of anode active
% material. Averaging the cuves obtanied in charging and discharging.

%% Discharge data: "Graphite_22FKV08_OCV_HC2212_Dchg.txt"
data_dis = [1	0.007494085
0.990071977	0.035282772
0.980143882	0.056124289
0.970215529	0.069533952
0.9602874	0.077935182
0.950359139	0.082620479
0.940430844	0.085851721
0.930502506	0.087628908
0.920574122	0.088921405
0.910646174	0.08972922
0.900718122	0.090375468
0.890790026	0.090698592
0.880861999	0.091183275
0.870933798	0.091506399
0.861005658	0.091667965
0.851077422	0.091829523
0.841149114	0.091991089
0.831220796	0.092152648
0.821292836	0.092314214
0.811364431	0.092475772
0.801436037	0.092475772
0.79150775	0.092637338
0.781579814	0.092637338
0.771651678	0.092798896
0.761723748	0.092798896
0.751795804	0.092798896
0.741867863	0.092798896
0.731939451	0.092960462
0.722011159	0.09312202
0.712082967	0.092960462
0.702154593	0.092960462
0.692226478	0.092960462
0.682298447	0.092960462
0.672370299	0.092960462
0.662442237	0.092960462
0.652513952	0.09312202
0.642585708	0.093283586
0.632657397	0.093283586
0.622729216	0.09312202
0.612801281	0.09312202
0.602873335	0.092960462
0.592945263	0.093283586
0.583017254	0.093283586
0.573089297	0.093283586
0.563160902	0.093445145
0.553232975	0.093445145
0.543304889	0.094091393
0.533376496	0.09538389
0.523448119	0.100392319
0.513519809	0.113963537
0.503591496	0.125272885
0.493660639	0.128988817
0.483732622	0.130442873
0.473804433	0.131412253
0.46387641	0.13173537
0.453948274	0.13222006
0.444020234	0.132381618
0.434091894	0.13270475
0.424163964	0.132543191
0.414235599	0.132866308
0.404307641	0.133027866
0.394379478	0.133027866
0.384451429	0.13318944
0.3745234	0.133350998
0.364595451	0.133350998
0.354667144	0.13318944
0.344739048	0.133350998
0.334810941	0.133512557
0.324882652	0.133674115
0.314954339	0.133674115
0.305026393	0.133997247
0.295098001	0.134158805
0.285170031	0.135128185
0.275242054	0.137551606
0.265313767	0.141429096
0.255385271	0.143690974
0.245457311	0.146599084
0.235529153	0.14950721
0.225601113	0.1533847
0.215673101	0.15790844
0.205745058	0.16227062
0.195816841	0.166148111
0.185888711	0.170833409
0.175960538	0.178265274
0.166032272	0.188282117
0.156104184	0.196521789
0.14617593	0.20880051
0.13624796	0.216878623
0.126319665	0.218494251
0.116391413	0.219302058
0.106463193	0.220109865
0.096534865	0.221079245
0.086606498	0.222371742
0.076678502	0.225441411
0.066750427	0.237235457
0.056822362	0.27746442
0.046894106	0.335303664
0.036965791	0.412691951
0.027037746	0.522877336
0.017109635	0.710935652
0.007181393	1.080428243
0.002567439	1.253138185
0.001723611	1.303222537
0.00127459	1.331011176
0.000974821	1.346682668
0.000745237	1.361707926
0.000564822	1.374471426
0.000421119	1.381903291
0.000297047	1.387719512
0.000186901	1.392566323
8.65E-05	1.400321364
0	1.405006647];

%% Data charging: "Graphite_22FKV08_OCV_HC2212_Chg.txt"

data_cha = [0	1.245383263
0.009928095	0.674099505
0.019856188	0.50074333
0.029784279	0.3970204
0.039712276	0.32383275
0.049640214	0.268416941
0.059568239	0.227218598
0.069496805	0.211547077
0.079425287	0.210577697
0.089353267	0.20976989
0.099281655	0.208477393
0.10920996	0.206538647
0.119138332	0.203307405
0.129066396	0.197814286
0.138994341	0.190543994
0.148922739	0.181981206
0.158850858	0.173256844
0.168779238	0.165178731
0.178707531	0.156292826
0.188635822	0.150315017
0.19856418	0.14401409
0.208492502	0.135128185
0.218420801	0.131573811
0.228349055	0.130604446
0.238277197	0.128665686
0.248205353	0.127534762
0.258133761	0.127534762
0.268062011	0.126888514
0.277990211	0.126242265
0.287918336	0.125757575
0.29784635	0.125434443
0.307774744	0.125111327
0.317702985	0.124949761
0.327631478	0.124788202
0.337559831	0.124465078
0.347488336	0.123980388
0.357416643	0.12381883
0.367345076	0.123657264
0.377273473	0.123495705
0.387201831	0.123011015
0.39712977	0.122687891
0.407058033	0.122364767
0.4169864	0.121880084
0.426914509	0.121233836
0.436842541	0.120749146
0.446770533	0.120264463
0.456699042	0.11929509
0.466627349	0.118325718
0.476555629	0.117033221
0.486483713	0.115094475
0.49641211	0.111863233
0.506340195	0.104431368
0.516268267	0.091021717
0.526196208	0.087467343
0.536124185	0.087628908
0.546052174	0.087952033
0.555980152	0.087952033
0.565908128	0.088113591
0.575836181	0.088113591
0.585764176	0.088275157
0.595692352	0.088275157
0.605620444	0.088113591
0.615548517	0.088275157
0.625476511	0.088275157
0.635404783	0.088113591
0.645333123	0.088113591
0.655261064	0.088113591
0.66518901	0.087952033
0.675117384	0.088113591
0.685045664	0.087952033
0.694973803	0.088113591
0.704901822	0.087952033
0.714829897	0.087952033
0.724758161	0.087952033
0.734686325	0.087790467
0.744614633	0.087790467
0.75454292	0.087790467
0.764471734	0.087790467
0.774400002	0.087628908
0.784328018	0.087628908
0.794256089	0.087628908
0.804184463	0.087467343
0.81411273	0.087467343
0.824040904	0.087628908
0.833969007	0.087467343
0.843896954	0.087305784
0.853824889	0.087144218
0.863753304	0.087144218
0.873681285	0.086821094
0.883609673	0.08649797
0.89353761	0.086336412
0.903465997	0.085851721
0.913394058	0.085043915
0.923322389	0.084074542
0.933250314	0.082458921
0.943178287	0.079873927
0.953106218	0.075350188
0.963034169	0.068403013
0.972962192	0.056770537
0.982890497	0.039483391
0.99281844	0.017187813
0.997621504	0.007494085];

%% Interpolations
    U_dis = interp1(data_dis(:,1),data_dis(:,2),x,'linear');
    U_cha = interp1(data_cha(:,1),data_cha(:,2),x,'linear');
    U_avg = (U_dis + U_cha)/2;
end

